[build]
  command = "python -m pip install --upgrade pip setuptools wheel && pip install -r requirements.txt"
  functions = "functions"

[build.environment]
  PYTHON_VERSION = "3.10"

[functions]
  # Increase timeout for ML model loading
  node_bundler = "esbuild"
  # Maximum function size is 50MB, but models are ~26MB each
  included_files = ["models/**", "app/**", "data/**"]

[[redirects]]
  from = "/*"
  to = "/.netlify/functions/app"
  status = 200
